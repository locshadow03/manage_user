<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="stylesheet" th:href="@{/dist/bootstrapdist/css/bootstrap.min.css}" >
    <link th:href = "@{/dist/bootstrap-icons/font/bootstrap-icons.min.css}" rel="stylesheet">
    <script th:src="@{/dist/bootstrapdist/js/bootstrap.bundle.js}"></script>
    <script th:src = "@{/dist/jquery-3.7.1.js}"></script>
    <script th:src = "@{/dist/fix.js}" type="text/javascript" src="../static/dist/fix.js"></script>
    <link rel = "stylesheet" th:href= "@{/dist/main.css}" >
    <title>Danh sách khách hàng</title>
</head>
<body>
    <div class = "header container-fluid fixed-top" style = "background-color: rgb(255, 136, 136); height:60px">
        <div class="w-100 h-100 d-flex justify-content-between">
            <div class=" mx-4 h-100 w-25 d-flex justify-content-start align-items-center">
                <a th:href ="@{/home}" href = "home.html"><span style = "font-size: 2rem; color:white"><i class="bi bi-house-fill"></i></span></a>
            </div>

            <div class="h-100 d-flex justify-content-end align-items-center">
                <a href="#"><span class = "mx-3" style = "font-size: 1.6rem; color:white"><i class="bi bi-search"></i></span></a>
                <div class="notification-container mx-3 d-flex justify-content-end align-items-center">
                    <div class="notification-icon">
                        <a href="#">
                            <span class="notification-badge">3</span>
                            <i class="bi bi-bell" style="font-size: 1.6rem; color: white;"></i>
                        </a>
                    </div>
                </div> 
                
                <div class="email-container mx-3 d-flex justify-content-end align-items-center">
                    <div class="email-icon">
                        <a href="#">
                            <span class="email-badge">3</span>
                            <i class="bi bi-envelope" style="font-size: 1.6rem; color: white;"></i>
                        </a>
                    </div>
                </div> 

                <div class = "mx-3 d-flex justify-content-center align-items-center text-white">
                    <div class = "rounded-circle" style = "height: 40px; width: 40px; margin-right: 1rem;">
                        <a href = "#"><img th:src = "@{/dist/img/kim.jpg}" class = "h-100 w-100"></a>
                    </div>

                    <strong style = "font-size: 15px; margin: 0;" th:text="${loggedInUser}"></strong>
                </div>

                <a data-bs-toggle="modal" data-bs-target="#exampleModal">
                    <i class="bi bi-box-arrow-right" style="font-size: 1.6rem; color: white;"></i>
                </a>

            </div>
        </div>        
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Xác nhận đăng xuất</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Bạn có chắc chắn muốn đăng xuất không?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <a th:href="@{/home-login?logout}" href="homelogin.html" class="btn btn-primary">Đăng xuất</a>
                </div>
            </div>
        </div>
    </div>


    <div style = "height: 60px;"></div>

    <div class="w-100 h-100">
    <div class = "row h-100">
    <div class="position-fixed fixed-left ol-xl-2 col-lg-2 col-sm-2 col-md-2" style = "background-color: rgb(255, 255, 255); padding: 0px; border-right: 2px solid rgb(211, 207, 207); overflow-y: auto;">
        <nav class="navbar navbar-light py-0" style = "border-bottom: 2px solid rgb(211, 207, 207); color:rgb(211, 207, 207);">
            <ul class="navbar-nav text-primary w-100" id="nav-listx" style="padding-left: 0;">
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a th:href="@{/default/chart}" href="chartjs.html" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-bar-chart-line-fill mx-4"></i>
                        <span>Biểu đồ</span>
                    </a>
                </li>
                <li class="nav-item py-2 active" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-people-fill mx-4" style = "color: black"></i>
                        <span style = "color: black">Quản lý khách hàng</span>
                    </a>
                </li>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-box-seam-fill mx-4"></i>
                        <span>Quản lý sản phẩm</span>
                    </a>
                </li>
            </ul>
        </nav>

        <nav class="navbar navbar-light py-0" style = "border-bottom: 2px solid rgb(211, 207, 207);">
            <ul class="navbar-nav text-primary w-100" id="nav-listz" style="padding-left: 0;">
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-grid-3x3-gap-fill mx-4"></i>
                        <span>Quản lý danh mục</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-shop mx-4"></i>
                        <span>Quản lý cửa hàng</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-cash-coin mx-4"></i>
                        <span>Quản lý doanh thu</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-clipboard-check mx-4"></i>
                        <span>Quản lý đơn hàng</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-gear-fill mx-4"></i>
                        <span>Cài đặt hệ thống</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-map-fill mx-4"></i>
                        <span>Maps</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-star-fill mx-4"></i>
                        <span>Tables</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-envelope-at-fill mx-4"></i>
                        <span>Mails</span>
                    </a>
                </li>
            </ul>
        </nav>

        <nav class="navbar navbar-light py-0" style = "border-bottom: 2px solid rgb(211, 207, 207);">
            <h5 class = "w-100 mx-4 mt-3" style = "color: rgb(148, 148, 148); font-size: 17px;">HELP</h5>
            <ul class="navbar-nav text-primary w-100" id="nav-list" style="padding-left: 0;">
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-collection-fill mx-4"></i>
                        <span>Library</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-person-raised-hand mx-4"></i>
                        <span>Support</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-copy mx-4"></i>
                        <span>Ul Elements</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-file-earmark-text-fill mx-4"></i>
                        <span>Forms</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-bar-chart-line-fill mx-4"></i>
                        <span>Chart</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-map-fill mx-4"></i>
                        <span>Maps</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-star-fill mx-4"></i>
                        <span>Extra</span>
                    </a>
                </li>
                <li class="nav-item py-2" style="list-style-type: none;">
                    <a href="#" class="nav-link d-block" style="display: flex; align-items: center;">
                        <i class="bi bi-menu-up mx-4"></i>
                        <span>Menu Levels</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <div class = "col-xl-2 col-lg-2 col-sm-2 col-md-2"></div>

    <div class = "col-xl-10 col-lg-10 col-sm-10 col-md-10 mt-5">
        <div class = "mx-5">
        <div class = "d-flex justify-content-between align-content-center mx-4 mb-3 mt-3">
            <h3>Quản lý tài khoản người dùng</h3>
            <a class = "btn btn-primary" th:href="@{/default/add-user}" >Add User</a>
        </div>
        <div class = "mx-4 rounded" style = "background-color: rgb(255, 255, 255);">
            <table class="table table-bordered table-hover">
                <thead>
                <tr>
                    <th>ID</th>
                    <th class = "text-center">First Name</th>
                    <th class = "text-center">Last Name</th>
                    <th class = "text-center">Email</th>
                    <th class = "text-center">City</th>
                    <th class = "text-center">Role</th>
                    <th class = "text-center">Active</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user : ${users}">
                    <td th:text="${user.id}"></td>
                    <td th:text="${user.firstName}"></td>
                    <td th:text="${user.lastName}"></td>
                    <td th:text="${user.username}"></td>
                    <td th:text="${user.city}"></td>
                    <td th:each="role : ${user.roles}" th:text="${role.name}"></td>
                    <td class = "d-flex justify-content-center align-content-center">
                        <a class="btn btn-info mx-2 view" th:href="@{/findOne/{id}(id=${user.id})}"><i class="bi bi-eye"></i></a>
                        <a class="btn btn-warning mx-2" th:href="@{/default/edituser/{id}(id=${user.id})}"><i class="bi bi-pencil-square"></i></a>
                        <a class="btn btn-danger mx-2" th:href="@{/default/delete/{id}(id=${user.id})}" onclick="return confirm('Bạn chắc chắn muốn xóa!')"><i class="bi bi-trash"></i></a>
                    </td>
                </tr>

                </tbody>
            </table>

        </div>

    </div>

        <form>
        <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" style = "max-width: 60%; max-height: 2000px">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="userDetailModalLabel">User Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div>
                            <label>Id:</label>
                            <span id="modal-id"></span>
                        </div>
                        <div>
                            <label>First name:</label>
                            <span id="modal-firstname"></span>
                        </div>
                        <div>
                            <label>Last name:</label>
                            <span id="modal-lastname"></span>
                        </div>
                        <div>
                            <label>User name:</label>
                            <span id="modal-username"></span>
                        </div>
                        <div>
                            <label>City:</label>
                            <span id="modal-city"></span>
                        </div>
                        <div>
                            <label>Role:</label>
                            <span id="modal-role"></span>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        </form>

<!--        <form th:action="@{/default/edit}" th:object = "${userDto}" method="post">-->
<!--            <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">-->
<!--                <div class="modal-dialog modal-dialog-centered" style = "max-width: 60%; max-height: 2000px">-->
<!--                    <div class="modal-content">-->
<!--                        <div class="modal-header">-->
<!--                            <h5 class="modal-title" id="userDetailModalLabel2">User Details</h5>-->
<!--                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                        </div>-->
<!--                        <div class="modal-body">-->
<!--                            <div class = "form-group">-->
<!--                                <label for = "id">ID:</label>-->
<!--                                <input type = "text" class = "form-control" id = "id" name = "id" value = ""/>-->
<!--                            </div>-->

<!--                            <div class = "form-group">-->
<!--                                <label for = "firstname">First name:</label>-->
<!--                                <input type = "text" class = "form-control" id = "firstname" name = "firstname" value = ""/>-->
<!--                            </div>-->

<!--                            <div class = "form-group">-->
<!--                                <label for = "lastname">Last name:</label>-->
<!--                                <input type = "text" class = "form-control" id = "lastname" name = "lastname" value = ""/>-->
<!--                            </div>-->

<!--                            <div class = "form-group">-->
<!--                                <label for = "username">User name:</label>-->
<!--                                <input type = "text" class = "form-control" id = "username" name = "username" value = ""/>-->
<!--                            </div>-->

<!--                            <div class = "form-group">-->
<!--                                <label for = "city">Cty:</label>-->
<!--                                <input type = "text" class = "form-control" id = "city" name = "cty" value = ""/>-->
<!--                            </div>-->

<!--                            <div class = "form-group">-->
<!--                                <label for = "role">Role:</label>-->
<!--                                <input type = "text" class = "form-control" id = "role" name = "role"-->
<!--                                       value = ""/>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="modal-footer">-->
<!--                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>-->
<!--                            <button type="submit" class="btn btn-primary">Save</button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </form>-->

    </div>
    </div>
    </div>
</body>
</html>